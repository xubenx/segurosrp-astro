---
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
import Contact from '../../components/Contact.astro';

const pageTitle = "Seguros de Gastos Médicos Mayores - RP Seguros";
const pageDescription = "Protege tu salud y la de tus seres queridos con nuestros seguros de gastos médicos mayores. Alfa Medical, Alfa Medical Flex, Alfa Medical Internacional y más.";
---

<Layout title={pageTitle} description={pageDescription}>
  <Header />
  
  <main class="">
    <!-- Hero Section -->
    <section class="relative min-h-[60vh] md:min-h-[70vh] text-white pt-20 overflow-hidden flex items-center">
      <!-- Imagen de fondo -->
      <div class="absolute inset-0 z-0">
        <img 
          src="/planes/alfa medical/hero-2.webp" 
          alt="Seguros de Gastos Médicos Mayores - RP Seguros" 
          class="w-full h-full object-cover object-center"
          loading="eager"
        />
        <!-- Overlay gradient -->
        <div class="absolute inset-0 bg-black/20"></div>
      </div>
      
      <!-- Contenido -->
      <div class="container mx-auto px-4 relative z-10 py-8 md:py-16">
        <div class="max-w-4xl mx-auto text-center">
          <div class="bg-rp-light-blue/50 backdrop-blur-sm rounded-lg p-4 sm:p-6 md:p-8">
            <h1 class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl text-white font-bold mb-4 md:mb-6">Seguros de Gastos Médicos Mayores</h1>
            <p class="text-base sm:text-lg md:text-xl mb-6 md:mb-8 text-white opacity-90">Protege tu salud y la de tus seres queridos ante el impacto económico que puede representar un gasto médico</p>
            <a href="#productos" class="inline-block bg-white text-blue-600 px-6 md:px-8 py-2.5 md:py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors text-sm md:text-base">
              Ver Nuestros Productos
            </a>
          </div>
        </div>
      </div>
    </section>


    <!-- Productos Slider -->
    <section id="productos" class="py-10 md:py-16 bg-gradient-to-b from-gray-50 to-white overflow-hidden">
      <div class="container mx-auto px-4">
        <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-center mb-3 md:mb-4 text-gray-800">Encuentra el Seguro de Gastos Médicos Mayores ideal para ti</h2>
        <p class="text-base sm:text-lg md:text-xl text-center text-gray-600 mb-8 md:mb-12 max-w-3xl mx-auto">Protege tu salud y la de tu familia con nuestros planes diseñados para cada etapa de tu vida</p>
        
        <!-- Slider Container -->
        <div class="relative max-w-7xl mx-auto">
          <!-- Slider Wrapper -->
          <div id="slider-container" class="overflow-hidden rounded-2xl shadow-2xl">
            <div id="slider" class="flex transition-transform duration-500 ease-in-out">
              
              <!-- Slide 1: Familia Feliz -->
              <div class="min-w-full relative">
                <div class="flex flex-col lg:grid lg:grid-cols-2 min-h-[auto] lg:min-h-[600px]">
                  <!-- Imagen -->
                  <div class="relative overflow-hidden bg-gradient-to-br from-rp-blue to-rp-light-blue h-48 sm:h-64 lg:h-full">
                    <img 
                      src="/seguros-gmm/flex.webp" 
                      alt="Familia protegida con Alfa Medical Flex" 
                      class="w-full h-full object-cover object-center hover:scale-105 transition-transform duration-700"
                      loading="lazy"
                    />
                    <div class="absolute inset-0 bg-gradient-to-t from-black/30 to-transparent"></div>
                  </div>
                  <!-- Contenido -->
                  <div class="bg-white p-4 sm:p-6 lg:p-12 flex flex-col justify-center">
                    <div class="mb-3 lg:mb-6">
                      <span class="inline-block bg-blue-100 text-blue-800 text-xs sm:text-sm font-medium px-2 sm:px-3 py-1 rounded-full mb-2 sm:mb-4">
                        Plan Flexible
                      </span>
                      <h3 class="text-xl sm:text-2xl lg:text-3xl font-bold text-gray-800 mb-2 lg:mb-4">Alfa Medical Flex</h3>
                    </div>
                    <p class="text-gray-600 mb-4 lg:mb-6 text-sm sm:text-base lg:text-lg leading-relaxed">Toma el control de tu salud acorde a tus necesidades. Es el Seguro de Gastos Médicos Mayores con el que puedes elegir dónde atenderte y cuánto pagarás en cada evento.</p>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-4 mb-4 lg:mb-8">
                      <div class="flex items-center space-x-2 sm:space-x-3">
                        <div class="w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"></div>
                        <span class="text-gray-700 text-sm sm:text-base">Libre elección de hospitales</span>
                      </div>
                      <div class="flex items-center space-x-2 sm:space-x-3">
                        <div class="w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"></div>
                        <span class="text-gray-700 text-sm sm:text-base">Administra tu participación</span>
                      </div>
                      <div class="flex items-center space-x-2 sm:space-x-3">
                        <div class="w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"></div>
                        <span class="text-gray-700 text-sm sm:text-base">Coberturas personalizables</span>
                      </div>
                      <div class="flex items-center space-x-2 sm:space-x-3">
                        <div class="w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"></div>
                        <span class="text-gray-700 text-sm sm:text-base">Atención 24/7</span>
                      </div>
                    </div>
                    <a href="/seguros-salud/alfa-medical-flex" class="inline-flex items-center justify-center sm:justify-start bg-blue-600 text-white px-6 lg:px-8 py-2.5 lg:py-3 rounded-lg hover:bg-blue-700 transition-colors font-semibold group text-sm sm:text-base">
                      Ver más detalles
                      <svg class="w-4 h-4 sm:w-5 sm:h-5 ml-2 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                      </svg>
                    </a>
                  </div>
                </div>
              </div>

              <!-- Slide 2: Viajero -->
              <div class="min-w-full relative">
                <div class="flex flex-col lg:grid lg:grid-cols-2 min-h-[auto] lg:min-h-[600px]">
                  <!-- Imagen -->
                  <div class="relative overflow-hidden bg-gradient-to-br from-rp-orange to-rp-orange/25 h-48 sm:h-64 lg:h-full lg:order-2">
                    <img 
                      src="/seguros-gmm/internacional.webp" 
                      alt="Viajero protegido con Alfa Medical Internacional" 
                      class="w-full h-full object-cover object-center hover:scale-105 transition-transform duration-700"
                      loading="lazy"
                    />
                    <div class="absolute inset-0 bg-gradient-to-t from-black/30 to-transparent"></div>
                  </div>
                  <!-- Contenido -->
                  <div class="bg-gradient-to-br from-orange-50 to-white p-4 sm:p-6 lg:p-12 flex flex-col justify-center lg:order-1">
                    <div class="mb-3 lg:mb-6">
                      <span class="inline-block bg-orange-100 text-orange-800 text-xs sm:text-sm font-medium px-2 sm:px-3 py-1 rounded-full mb-2 sm:mb-4">
                        Plan Internacional
                      </span>
                      <h3 class="text-xl sm:text-2xl lg:text-3xl font-bold text-gray-800 mb-2 lg:mb-4">Alfa Medical Internacional</h3>
                    </div>
                    <p class="text-gray-600 mb-4 lg:mb-6 text-sm sm:text-base lg:text-lg leading-relaxed">Extiende tu protección en México y el mundo. Ideal para viajeros que buscan atención médica internacional con los mejores especialistas.</p>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-4 mb-4 lg:mb-8">
                      <div class="flex items-center space-x-2 sm:space-x-3">
                        <div class="w-2 h-2 bg-orange-500 rounded-full flex-shrink-0"></div>
                        <span class="text-gray-700 text-sm sm:text-base">Protección internacional</span>
                      </div>
                      <div class="flex items-center space-x-2 sm:space-x-3">
                        <div class="w-2 h-2 bg-orange-500 rounded-full flex-shrink-0"></div>
                        <span class="text-gray-700 text-sm sm:text-base">Servicio Concierge</span>
                      </div>
                      <div class="flex items-center space-x-2 sm:space-x-3">
                        <div class="w-2 h-2 bg-orange-500 rounded-full flex-shrink-0"></div>
                        <span class="text-gray-700 text-sm sm:text-base">Cobertura más amplia</span>
                      </div>
                      <div class="flex items-center space-x-2 sm:space-x-3">
                        <div class="w-2 h-2 bg-orange-500 rounded-full flex-shrink-0"></div>
                        <span class="text-gray-700 text-sm sm:text-base">Evacuación médica</span>
                      </div>
                    </div>
                    <a href="/seguros-salud/alfa-medical-internacional" class="inline-flex items-center justify-center sm:justify-start bg-rp-orange text-white px-6 lg:px-8 py-2.5 lg:py-3 rounded-lg hover:bg-orange-700 transition-colors font-semibold group text-sm sm:text-base">
                      Ver más detalles
                      <svg class="w-4 h-4 sm:w-5 sm:h-5 ml-2 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                      </svg>
                    </a>
                  </div>
                </div>
              </div>

              <!-- Slide 3: Montaña (Alfa Medical) -->
              <div class="min-w-full relative">
                <div class="flex flex-col lg:grid lg:grid-cols-2 min-h-[auto] lg:min-h-[600px]">
                  <!-- Imagen -->
                  <div class="relative overflow-hidden bg-gradient-to-br from-rp-blue to-rp-light-blue h-48 sm:h-64 lg:h-full">
                    <img 
                      src="/seguros-gmm/alfa.webp" 
                      alt="Protección completa con Alfa Medical" 
                      class="w-full h-full object-cover object-center hover:scale-105 transition-transform duration-700"
                      loading="lazy"
                    />
                    <div class="absolute inset-0 bg-gradient-to-t from-black/30 to-transparent"></div>
                  </div>
                  <!-- Contenido -->
                  <div class="bg-gradient-to-br from-blue-50 to-white p-4 sm:p-6 lg:p-12 flex flex-col justify-center">
                    <div class="mb-3 lg:mb-6">
                      <span class="inline-block bg-blue-100 text-blue-800 text-xs sm:text-sm font-medium px-2 sm:px-3 py-1 rounded-full mb-2 sm:mb-4">
                        Plan Tradicional
                      </span>
                      <h3 class="text-xl sm:text-2xl lg:text-3xl font-bold text-gray-800 mb-2 lg:mb-4">Alfa Medical</h3>
                    </div>
                    <p class="text-gray-600 mb-4 lg:mb-6 text-sm sm:text-base lg:text-lg leading-relaxed">Accede a los mejores hospitales de México para ti y tu familia. Cuenta con diversos planes que se ajustan a las necesidades de tu familia.</p>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-4 mb-4 lg:mb-8">
                      <div class="flex items-center space-x-2 sm:space-x-3">
                        <div class="w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"></div>
                        <span class="text-gray-700 text-sm sm:text-base">Mejores hospitales</span>
                      </div>
                      <div class="flex items-center space-x-2 sm:space-x-3">
                        <div class="w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"></div>
                        <span class="text-gray-700 text-sm sm:text-base">Cobertura maternidad</span>
                      </div>
                      <div class="flex items-center space-x-2 sm:space-x-3">
                        <div class="w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"></div>
                        <span class="text-gray-700 text-sm sm:text-base">Planes familiares</span>
                      </div>
                      <div class="flex items-center space-x-2 sm:space-x-3">
                        <div class="w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"></div>
                        <span class="text-gray-700 text-sm sm:text-base">Red hospitalaria amplia</span>
                      </div>
                    </div>
                    <a href="/seguros-salud/alfa-medical" class="inline-flex items-center justify-center sm:justify-start bg-rp-blue text-white px-6 lg:px-8 py-2.5 lg:py-3 rounded-lg hover:bg-blue-700 transition-colors font-semibold group text-sm sm:text-base">
                      Ver más detalles
                      <svg class="w-4 h-4 sm:w-5 sm:h-5 ml-2 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                      </svg>
                    </a>
                  </div>
                </div>
              </div>

            </div>
          </div>

          <!-- Navegación del Slider -->
          <div class="absolute top-1/2 -translate-y-1/2 left-4 z-10">
            <button id="prevBtn" class="bg-white/90 backdrop-blur-sm hover:bg-white text-gray-800 p-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 group">
              <svg class="w-6 h-6 group-hover:-translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
              </svg>
            </button>
          </div>
          <div class="absolute top-1/2 -translate-y-1/2 right-4 z-10">
            <button id="nextBtn" class="bg-white/90 backdrop-blur-sm hover:bg-white text-gray-800 p-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 group">
              <svg class="w-6 h-6 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
              </svg>
            </button>
          </div>

          <!-- Indicadores -->
          <div class="flex justify-center mt-8 space-x-3">
            <button class="slider-dot w-3 h-3 rounded-full bg-blue-600 transition-all duration-300" data-slide="0"></button>
            <button class="slider-dot w-3 h-3 rounded-full bg-gray-300 hover:bg-gray-400 transition-all duration-300" data-slide="1"></button>
            <button class="slider-dot w-3 h-3 rounded-full bg-gray-300 hover:bg-gray-400 transition-all duration-300" data-slide="2"></button>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="py-10 md:py-16 bg-rp-light-blue text-white">
      <div class="container mx-auto px-4 text-center">
        <h2 class="text-2xl sm:text-3xl font-bold mb-3 md:mb-4">¿No sabes qué Seguro te conviene más?</h2>
        <p class="text-base sm:text-lg md:text-xl mb-6 md:mb-8 opacity-90">Deja tus datos y un experto te ayudará a elegir uno de acuerdo a tus necesidades.</p>
        <a href="#contacto" class="inline-block bg-white text-blue-600 px-6 md:px-8 py-2.5 md:py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors text-sm md:text-base">
          Quiero que me contacten
        </a>
      </div>
    </section>
          <section id="contacto" class="bg-white"><Contact /></section>

  </main>
  
  <Footer />
</Layout>

<!-- Estilos adicionales para el slider -->
<style>
  /* Animaciones suaves para el slider */
  #slider {
    will-change: transform;
  }
  
  /* Responsividad mejorada */
  @media (max-width: 1024px) {
    .grid.lg\\:grid-cols-2 {
      grid-template-columns: 1fr;
    }
    
    .lg\\:order-1 {
      order: 1;
    }
    
    .lg\\:order-2 {
      order: 2;
    }
  }
  
  /* Efectos hover mejorados */
  .slider-dot:hover {
    transform: scale(1.2);
  }
  
  .slider-dot.active {
    transform: scale(1.3);
  }
  
  /* Mejoras para móvil */
  @media (max-width: 768px) {
    .min-h-\\[600px\\] {
      min-height: 500px;
    }
    
    .p-8.lg\\:p-12 {
      padding: 1.5rem;
    }
    
    .text-3xl {
      font-size: 1.875rem;
    }
  }
  
  @media (max-width: 640px) {
    .min-h-\\[600px\\] {
      min-height: 450px;
    }
    
    .grid.md\\:grid-cols-2 {
      grid-template-columns: 1fr;
    }
  }
  
  /* Optimización para pantallas táctiles */
  @media (hover: none) and (pointer: coarse) {
    .hover\\:scale-105:hover {
      transform: none;
    }
    
    .group:hover .group-hover\\:translate-x-1 {
      transform: none;
    }
  }
</style>

<!-- Slider JavaScript -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const slider = document.getElementById('slider');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const dots = document.querySelectorAll('.slider-dot');
    
    let currentSlide = 0;
    const totalSlides = 3;
    
    // Función para ir a un slide específico
    function goToSlide(slideIndex) {
      currentSlide = slideIndex;
      if (slider) {
        slider.style.transform = `translateX(-${currentSlide * 100}%)`;
      }
      
      // Actualizar indicadores
      dots.forEach((dot, index) => {
        dot.classList.remove('active');
        if (index === currentSlide) {
          dot.classList.remove('bg-gray-300');
          dot.classList.add('bg-blue-600', 'active');
        } else {
          dot.classList.remove('bg-blue-600', 'active');
          dot.classList.add('bg-gray-300');
        }
      });
      
      // Actualizar colores de indicadores según el slide activo
      const colors = ['bg-blue-600', 'bg-orange-600', 'bg-blue-600'];
      dots.forEach((dot, index) => {
        // Remover todos los colores anteriores
        dot.classList.remove('bg-blue-600', 'bg-orange-600', 'bg-blue-600');
        
        if (index === currentSlide) {
          dot.classList.add(colors[currentSlide]);
        } else {
          dot.classList.add('bg-gray-300');
        }
      });
    }
    
    // Función para ir al siguiente slide
    function nextSlide() {
      currentSlide = (currentSlide + 1) % totalSlides;
      goToSlide(currentSlide);
    }
    
    // Función para ir al slide anterior
    function prevSlide() {
      currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
      goToSlide(currentSlide);
    }
    
    // Event listeners para botones
    if (nextBtn) {
      nextBtn.addEventListener('click', nextSlide);
      nextBtn.setAttribute('aria-label', 'Siguiente slide');
    }
    
    if (prevBtn) {
      prevBtn.addEventListener('click', prevSlide);
      prevBtn.setAttribute('aria-label', 'Slide anterior');
    }
    
    // Event listeners para indicadores
    dots.forEach((dot, index) => {
      dot.addEventListener('click', () => goToSlide(index));
      dot.setAttribute('aria-label', `Ir al slide ${index + 1}`);
      dot.setAttribute('role', 'button');
      dot.setAttribute('tabindex', '0');
      
      // Soporte para navegación por teclado
      dot.addEventListener('keydown', (e) => {
        const keyboardEvent = e as KeyboardEvent;
        if (keyboardEvent.key === 'Enter' || keyboardEvent.key === ' ') {
          e.preventDefault();
          goToSlide(index);
        }
      });
    });
    
    // Auto-play del slider (opcional)
    let autoSlideInterval = setInterval(nextSlide, 5000);
    
    // Pausar auto-play cuando se hace hover sobre el slider
    const sliderContainer = document.getElementById('slider-container');
    if (sliderContainer) {
      sliderContainer.addEventListener('mouseenter', () => {
        clearInterval(autoSlideInterval);
      });
      
      sliderContainer.addEventListener('mouseleave', () => {
        autoSlideInterval = setInterval(nextSlide, 5000);
      });
    }
    
    // Soporte para gestos táctiles (móvil)
    let startX = 0;
    let endX = 0;
    
    if (sliderContainer) {
      sliderContainer.addEventListener('touchstart', (e) => {
        startX = e.touches[0].clientX;
      });
      
      sliderContainer.addEventListener('touchend', (e) => {
        endX = e.changedTouches[0].clientX;
        handleSwipe();
      });
    }
    
    function handleSwipe() {
      const swipeThreshold = 50;
      const diff = startX - endX;
      
      if (Math.abs(diff) > swipeThreshold) {
        if (diff > 0) {
          nextSlide();
        } else {
          prevSlide();
        }
      }
    }
  });
</script>
